id:  https://www.ebi.ac.uk/bioimage-archive/schema/
name: bia-shared-datamodels

prefixes:
  bia-shared-datamodels: https://www.ebi.ac.uk/bioimage-archive/schema/
  linkml: https://w3id.org/linkml/
  dc: http://purl.org/dc/terms/
default_prefix: bia-shared-datamodels
default_range: string

imports:
  - linkml:types
  - mixins

classes: 
  Document:
    description: A documentary resource or body of scientific work.
    slots:
      - author
      - title
      - release_date
      - keywords
      - acknowledgements
      - description
    slot_usage: 
      author:
        required: true
      title:
        required: True

  
  Study:
    is_a: Document
    mixins:
      - BIARecord
    description: A study in the BioImageArchive represents a set of image data, and the scienfitic effort that resulted in its creation.
    slots:
      - accession_id
      - file_reference_count
      - image_count
      - see_also
      - fundedBy
      - part
    slot_usage:
      part:
        range: StudyComponent
      accession_id:
        required: true
      description:
        required: true

  Publication:
    is_a: Document
    slots:
      - pubmed_id
      - doi

  StudyComponent:
    description: A StudyComponent is a dataset of images in which the same set of imaging techniques were performed on a set of specimens and biosamples.
    slots: 
      - title
      - description
      - partOf
    slot_usage:
      partOf:
        range: Study
        required: true

slots:
  title:
    slot_uri: dc:title
    description: The title of a scientific document. This will usually be displayed when search results including your data are shown.
    multivalued: false    
    examples:
      - value: An annotated fluorescence image dataset for training nuclear segmentation methods
      - value: Embryonic mice ultrasound volumes with body and brain volume segmentation masks
  
  description:
    slot_uri: dc:description
    description: Brief description of the scientific document.
    multivalued: false
    examples:
      - value: >-
          Accurate quantification of nuclear features is critical for the characterization of tumours. 
          This dataset contains annotated fluorescent images of cell nuclei from a normal human skin cell line, and from different tumour samples from cancer patients. 
          This dataset can be used to train nuclear image segmentation algorithms.
      - value: >-
          The number of cells in an embryo at early stages of development can be used to understand its viability, however counting cells on DIC images is a challenging task. 
          This dataset contains annotated DIC images of mouse embryos to train machine learning models.

  keywords:
    slot_uri: dc:keywords
    description: Keywords or tags used to describe the subject of a document
    multivalued: true
    examples:
      - value:
        - segmentation
        - nuclei
        - cancer
      - value:
        - image segmentation 
        - high-frequency ultrasound 
        - mouse embryo 
        - volumetric deep learning

  license:
    slot_uri: dc:license
    description: The license under which the data are available
    range: LicenseType
    multivalued: false
    examples:
      - value: CC0
      - value: CC_BY

  author: 
    slot_uri: dc:creator
    description: The creators of the document.
    #TODO: range: Agent - add when class is created
    multivalued: true
  
  acknowledgements: 
    description:  Any people or groups that should be acknowledged as part of the document.
    #TODO: range: Agent - add when class is created
    multivalued: true

  pubmed_id:
    slot_uri: WIKIDATA_PROPERTY:P698
    range: uriorcurie
    description: Identifier for journal articles/abstracts in PubMed
    multivalued: false
    examples: 
      - value: PMID:18492790
      - value: PMID:26136366

  release_date:
    description: Date of first publication
    range: date
    multivalued: false
    examples:
      - value: "2021"
      - value: "1986"
  
  see_also:
    description: Links to publications, github repositories, and other pages related to this Study.
    range: string #TODO use URL datatype or write pattern for it
    multivalued: true
  
  part:
    slot_uri: dc:haspart
    description: A related document that is included logically in the described document.
    multivalued: true

  partOf:
    slot_uri: dc:isPartOf
    description: A related document in which the described document is logically included.

  accession_id:
    description: Unique ID of a study

  file_reference_count:
    description: Number of files associated with the study
    range: integer
  
  image_count:
    description: Number of images associated with the study
    range: integer

  fundedBy:
    description: The grants that funded the study
    #TODO: range: Grant - add when class is created

  doi:
    identifier: true
    slot_uri: WIKIDATA_PROPERTY:P356
    range: uriorcurie
    description: Digital Object Identifier (DOI)


enums:
  LicenseType:
    permissible_values:

      CC0:
        description: No Copyright. You can copy, modify, distribute and perform the work, even for commercial purposes, all without asking permission.
        meaning: https://creativecommons.org/publicdomain/zero/1.0/
      
      CC_BY:
        description: >-
         You are free to: Share — copy and redistribute the material in any medium or format. Adapt — remix, transform, and build upon the material 
         for any purpose, even commercially. You must give appropriate credit, provide a link to the license, and indicate if changes were made. 
         You may do so in any reasonable manner, but not in any way that suggests the licensor endorses you or your use.
        meaning: https://creativecommons.org/licenses/by/4.0/
