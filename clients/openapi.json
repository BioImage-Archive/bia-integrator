{"openapi":"3.0.2","info":{"title":"FastAPI","version":"0.1.0"},"paths":{"/api/object_info_by_accessions":{"get":{"summary":"Get Object Info By Accession","operationId":"get_object_info_by_accession_api_object_info_by_accessions_get","parameters":[{"required":true,"schema":{"title":"Accessions","type":"array","items":{"type":"string"}},"name":"accessions","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Get Object Info By Accession Api Object Info By Accessions Get","type":"array","items":{"$ref":"#/components/schemas/ObjectInfo"}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/study/{study_accession}/images_by_aliases":{"get":{"summary":"Get Study Images By Alias","operationId":"get_study_images_by_alias_api_study__study_accession__images_by_aliases_get","parameters":[{"required":true,"schema":{"title":"Study Accession","type":"string"},"name":"study_accession","in":"path"},{"required":true,"schema":{"title":"Aliases","type":"array","items":{"type":"string"}},"name":"aliases","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Get Study Images By Alias Api Study  Study Accession  Images By Aliases Get","type":"array","items":{"$ref":"#/components/schemas/BIAImage"}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/{study_uuid}":{"get":{"summary":"Get Study","operationId":"get_study_api__study_uuid__get","parameters":[{"required":true,"schema":{"title":"Study Uuid","type":"string"},"name":"study_uuid","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BIAStudy"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/{study_uuid}/file_references":{"get":{"summary":"Get Study File References","operationId":"get_study_file_references_api__study_uuid__file_references_get","parameters":[{"required":true,"schema":{"title":"Study Uuid","type":"string","format":"uuid"},"name":"study_uuid","in":"path"},{"required":false,"schema":{"title":"Start Uuid","type":"string","format":"uuid"},"name":"start_uuid","in":"query"},{"required":false,"schema":{"title":"Limit","exclusiveMinimum":0.0,"type":"integer","default":10},"name":"limit","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Get Study File References Api  Study Uuid  File References Get","type":"array","items":{"$ref":"#/components/schemas/FileReference"}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/search/images":{"get":{"summary":"Search Images","operationId":"search_images_api_search_images_get","parameters":[{"required":false,"schema":{"title":"Alias","type":"string"},"name":"alias","in":"query"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Body_search_images_api_search_images_get"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Search Images Api Search Images Get","type":"array","items":{"$ref":"#/components/schemas/BIAImage"}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/{study_uuid}/images":{"get":{"summary":"Get Study Images","operationId":"get_study_images_api__study_uuid__images_get","parameters":[{"required":true,"schema":{"title":"Study Uuid","type":"string","format":"uuid"},"name":"study_uuid","in":"path"},{"required":false,"schema":{"title":"Start Uuid","type":"string","format":"uuid"},"name":"start_uuid","in":"query"},{"required":false,"schema":{"title":"Limit","exclusiveMinimum":0.0,"type":"integer","default":10},"name":"limit","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Get Study Images Api  Study Uuid  Images Get","type":"array","items":{"$ref":"#/components/schemas/BIAImage"}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/images/{image_uuid}":{"get":{"summary":"Get Image","operationId":"get_image_api_images__image_uuid__get","parameters":[{"required":true,"schema":{"title":"Image Uuid","type":"string","format":"uuid"},"name":"image_uuid","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BIAImage"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/file_references/{file_reference_uuid}":{"get":{"summary":"Get Image","operationId":"get_image_api_file_references__file_reference_uuid__get","parameters":[{"required":true,"schema":{"title":"File Reference Uuid","type":"string"},"name":"file_reference_uuid","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FileReference"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/images/{image_uuid}/ome_metadata":{"get":{"summary":"Get Image Ome Metadata","operationId":"get_image_ome_metadata_api_images__image_uuid__ome_metadata_get","parameters":[{"required":true,"schema":{"title":"Image Uuid","type":"string"},"name":"image_uuid","in":"path"},{"required":true,"schema":{"title":"Study Uuid","type":"string"},"name":"study_uuid","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Get Image Ome Metadata Api Images  Image Uuid  Ome Metadata Get","type":"object"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/collections":{"get":{"summary":"Search Collections","operationId":"search_collections_api_collections_get","parameters":[{"required":false,"schema":{"title":"Name","type":"string"},"name":"name","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Search Collections Api Collections Get","type":"array","items":{"$ref":"#/components/schemas/BIACollection"}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/private/study":{"post":{"summary":"Create Study","operationId":"create_study_api_private_study_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BIAStudy"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"summary":"Update Study","operationId":"update_study_api_private_study_patch","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BIAStudy"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/private/studies/{study_uuid}/refresh_counts":{"post":{"summary":"Study Refresh Counts","description":"Recalculate and persist counts for other objects pointing to this study.","operationId":"study_refresh_counts_api_private_studies__study_uuid__refresh_counts_post","parameters":[{"required":true,"schema":{"title":"Study Uuid","type":"string"},"name":"study_uuid","in":"path"}],"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/private/images":{"post":{"summary":"Create Images","operationId":"create_images_api_private_images_post","requestBody":{"content":{"application/json":{"schema":{"title":"Study Images","type":"array","items":{"$ref":"#/components/schemas/BIAImage"}}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BulkOperationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/private/images/single":{"patch":{"summary":"Update Image","description":"Bulk update not available - update_many only has one filter for the entire update\n@TODO: Find common bulk update usecases and map them to mongo operations","operationId":"update_image_api_private_images_single_patch","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BIAImage"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/private/images/bulk":{"post":{"summary":"Create Images","description":"TODO: Maybe file-based async?","operationId":"create_images_api_private_images_bulk_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/private/images/{image_uuid}/representations/single":{"post":{"summary":"Create Image Representation","operationId":"create_image_representation_api_private_images__image_uuid__representations_single_post","parameters":[{"required":true,"schema":{"title":"Image Uuid","type":"string"},"name":"image_uuid","in":"path"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BIAImageRepresentation"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/private/file_references":{"post":{"summary":"Create File Reference","operationId":"create_file_reference_api_private_file_references_post","requestBody":{"content":{"application/json":{"schema":{"title":"File References","type":"array","items":{"$ref":"#/components/schemas/FileReference"}}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BulkOperationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/private/file_references/single":{"patch":{"summary":"Update File Reference","operationId":"update_file_reference_api_private_file_references_single_patch","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FileReference"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/private/collections":{"post":{"summary":"Create Collection","operationId":"create_collection_api_private_collections_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BIACollection"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/admin/health-check":{"get":{"summary":"Health Check","operationId":"health_check_admin_health_check_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"AnnotationState":{"title":"AnnotationState","enum":["active","deleted"],"type":"string","description":"An enumeration."},"Author":{"title":"Author","required":["name"],"type":"object","properties":{"name":{"title":"Name","type":"string"}}},"BIACollection":{"title":"BIACollection","required":["uuid","version","model","name","title","subtitle"],"type":"object","properties":{"_id":{"title":" Id","type":"string"},"uuid":{"title":"Uuid","type":"string","format":"uuid"},"version":{"title":"Version","type":"integer"},"model":{"$ref":"#/components/schemas/ModelMetadata"},"name":{"title":"Name","type":"string"},"title":{"title":"Title","type":"string"},"subtitle":{"title":"Subtitle","type":"string"},"description":{"title":"Description","type":"string"},"study_uuids":{"title":"Study Uuids","type":"array","items":{"type":"string"},"default":[]}},"description":"A collection of studies with a coherent purpose. Studies can be in\nmultiple collections."},"BIAImage":{"title":"BIAImage","required":["uuid","version","model","study_uuid","original_relpath"],"type":"object","properties":{"_id":{"title":" Id","type":"string"},"uuid":{"title":"Uuid","type":"string","format":"uuid"},"version":{"title":"Version","type":"integer"},"model":{"$ref":"#/components/schemas/ModelMetadata"},"study_uuid":{"title":"Study Uuid","type":"string","format":"uuid"},"original_relpath":{"title":"Original Relpath","type":"string"},"name":{"title":"Name","type":"string"},"dimensions":{"title":"Dimensions","type":"string"},"representations":{"title":"Representations","type":"array","items":{"$ref":"#/components/schemas/BIAImageRepresentation"},"default":[]},"attributes":{"title":"Attributes","type":"object","default":{}},"annotations":{"title":"Annotations","type":"array","items":{"$ref":"#/components/schemas/ImageAnnotation"},"default":[]},"alias":{"$ref":"#/components/schemas/BIAImageAlias"}},"description":"This class represents the abstract concept of an image. Images are\ngenerated by acquisition by instruments.\n\nExamples:\n\n* A single plane bright-field image of a bacterium.\n* A confocal fluorescence image of cells, with two channels.\n* A volume EM stack of a cell.\n\nImages are distinct from their representation as files, since the same\nimage can be represented in different file formats and in some cases\ndifferent file structures."},"BIAImageAlias":{"title":"BIAImageAlias","required":["name"],"type":"object","properties":{"name":{"title":"Name","type":"string"}},"description":"An alias for an image - a more convenient way to refer to the image than\nthe full accession ID / UUID pair"},"BIAImageRepresentation":{"title":"BIAImageRepresentation","required":["size"],"type":"object","properties":{"size":{"title":"Size","type":"integer"},"uri":{"title":"Uri","type":"array","items":{"type":"string"},"default":[]},"type":{"title":"Type","type":"string"},"dimensions":{"title":"Dimensions","type":"string"},"attributes":{"title":"Attributes","type":"object","default":{}},"rendering":{"$ref":"#/components/schemas/RenderingInfo"}},"description":"A particular representation of a BIAImage. Examples:\n\n* A single HTTP accessible file.\n* Multiple HTTP accessible files, representing different channels, planes and time points.\n* An S3 accessible OME-Zarr.\n* A thumbnail."},"BIAStudy":{"title":"BIAStudy","required":["uuid","version","model","title","description","organism","release_date","accession_id"],"type":"object","properties":{"_id":{"title":" Id","type":"string"},"uuid":{"title":"Uuid","type":"string","format":"uuid"},"version":{"title":"Version","type":"integer"},"model":{"$ref":"#/components/schemas/ModelMetadata"},"title":{"title":"Title","type":"string"},"description":{"title":"Description","type":"string"},"authors":{"title":"Authors","type":"array","items":{"$ref":"#/components/schemas/Author"},"default":[]},"organism":{"title":"Organism","type":"string"},"release_date":{"title":"Release Date","type":"string"},"accession_id":{"title":"Accession Id","type":"string"},"imaging_type":{"title":"Imaging Type","type":"array","items":{"type":"string"},"default":[]},"attributes":{"title":"Attributes","type":"object","default":{}},"annotations":{"title":"Annotations","type":"array","items":{"$ref":"#/components/schemas/StudyAnnotation"},"default":[]},"example_image_uri":{"title":"Example Image Uri","type":"string","default":""},"example_image_annotation_uri":{"title":"Example Image Annotation Uri","type":"string","default":""},"tags":{"title":"Tags","type":"array","items":{"type":"string"},"default":[]},"file_references_count":{"title":"File References Count","type":"integer","default":0},"images_count":{"title":"Images Count","type":"integer","default":0}}},"Body_search_images_api_search_images_get":{"title":"Body_search_images_api_search_images_get","type":"object","properties":{"attributes":{"title":"Attributes","type":"object"},"annotations":{"title":"Annotations","type":"array","items":{"type":"object"},"default":[]}}},"BulkOperationItem":{"title":"BulkOperationItem","required":["status","idx_in_request"],"type":"object","properties":{"status":{"title":"Status","type":"integer"},"idx_in_request":{"title":"Idx In Request","type":"integer"},"message":{"title":"Message","type":"string"}}},"BulkOperationResponse":{"title":"BulkOperationResponse","required":["items"],"type":"object","properties":{"items":{"title":"Items","type":"array","items":{"$ref":"#/components/schemas/BulkOperationItem"}}}},"ChannelRendering":{"title":"ChannelRendering","required":["colormap_start","colormap_end"],"type":"object","properties":{"colormap_start":{"title":"Colormap Start","type":"array","items":{"type":"number"}},"colormap_end":{"title":"Colormap End","type":"array","items":{"type":"number"}},"scale_factor":{"title":"Scale Factor","type":"number","default":1.0}}},"FileReference":{"title":"FileReference","required":["uuid","version","model","study_uuid","name","uri","type"],"type":"object","properties":{"_id":{"title":" Id","type":"string"},"uuid":{"title":"Uuid","type":"string","format":"uuid"},"version":{"title":"Version","type":"integer"},"model":{"$ref":"#/components/schemas/ModelMetadata"},"study_uuid":{"title":"Study Uuid","type":"string","format":"uuid"},"name":{"title":"Name","type":"string"},"uri":{"title":"Uri","type":"string"},"type":{"title":"Type","type":"string"},"size_bytes":{"title":"Size Bytes","type":"integer"},"attributes":{"title":"Attributes","type":"object","default":{}}},"description":"A reference to an externally hosted file."},"HTTPValidationError":{"title":"HTTPValidationError","type":"object","properties":{"detail":{"title":"Detail","type":"array","items":{"$ref":"#/components/schemas/ValidationError"}}}},"ImageAnnotation":{"title":"ImageAnnotation","required":["author_email","key","value","state"],"type":"object","properties":{"author_email":{"title":"Author Email","type":"string"},"key":{"title":"Key","type":"string"},"value":{"title":"Value","type":"string"},"state":{"$ref":"#/components/schemas/AnnotationState"}}},"ModelMetadata":{"title":"ModelMetadata","required":["type_name","version"],"type":"object","properties":{"type_name":{"title":"Type Name","type":"string"},"version":{"title":"Version","type":"integer"}}},"ObjectInfo":{"title":"ObjectInfo","required":["uuid","model"],"type":"object","properties":{"uuid":{"title":"Uuid","type":"string","format":"uuid"},"model":{"$ref":"#/components/schemas/ModelMetadata"}}},"RenderingInfo":{"title":"RenderingInfo","type":"object","properties":{"channel_renders":{"title":"Channel Renders","type":"array","items":{"$ref":"#/components/schemas/ChannelRendering"},"default":[]},"default_z":{"title":"Default Z","type":"integer"},"default_t":{"title":"Default T","type":"integer"}}},"StudyAnnotation":{"title":"StudyAnnotation","required":["author_email","key","value","state"],"type":"object","properties":{"author_email":{"title":"Author Email","type":"string"},"key":{"title":"Key","type":"string"},"value":{"title":"Value","type":"string"},"state":{"$ref":"#/components/schemas/AnnotationState"}}},"ValidationError":{"title":"ValidationError","required":["loc","msg","type"],"type":"object","properties":{"loc":{"title":"Location","type":"array","items":{"anyOf":[{"type":"string"},{"type":"integer"}]}},"msg":{"title":"Message","type":"string"},"type":{"title":"Error Type","type":"string"}}}}}}