metadata:
  description: Local deployment of everything

helmRepos:
  bitnami: https://charts.bitnami.com/bitnami

namespaces:
  api:
    protected: false

apps:
  mongo:
    namespace: api
    enabled: true
    chart: "bitnami/mongodb"
    version: "15.4.3"
    priority: -2
    set:
      "auth.rootUser": $MONGO_ROOT_USER
      "auth.rootPassword": $MONGO_ROOT_PASSWORD
    valuesFiles:
      - "mongo_values.yml"
  api:
    namespace: api
    enabled: true
    chart: ./api
    version: "0.1.0"
    priority: -1
    set:
      "api_env.mongoRootUser": $MONGO_ROOT_USER
      "api_env.mongoRootPassword": $MONGO_ROOT_PASSWORD
      "api_env.mongoHost": mongo-mongodb
      "api_env.jwtSecretKey": $JWT_SECRET_KEY
      "api_env.userCreateSecretToken": $USER_CREATE_TOKEN
